{"version":3,"sources":["/Users/oscargracia/Documents/proyectos/eathouse/app-eathouse/actions/cart.js","/Users/oscargracia/Documents/proyectos/eathouse/app-eathouse/components/general/InputText.js","/Users/oscargracia/Documents/proyectos/eathouse/app-eathouse/pages/menu.js","/Users/oscargracia/Documents/proyectos/eathouse/app-eathouse/reducer/cart.js"],"names":["SET_ITEM","UPDATE_ITEM","REMOVE_ITEM","CLEAR_ITEMS","add","data","type","payload","date","moment","format","update","index","remove","clearItems","addToCart","dish","quantity","dispatch","getState","cart","isExist","map","item","i","id","name","price","total","Number","availableOn","clearCart","TextFieldGroup","value","label","error","onChange","focus","disabled","propTypes","PropTypes","string","isRequired","bool","func","defaultProps","Menu","addCart","props","dishes","query","api","getAll","React","Component","securePage","connect","INITIAL_STATE","state","action","persistExpiresAt","slice","Object","assign"],"mappings":"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","file":"5.648a00a51b84c5ada30b.hot-update.js","sourcesContent":["export const SET_ITEM = 'SET_ITEM';\nexport const UPDATE_ITEM = 'UPDATE_ITEM';\nexport const REMOVE_ITEM = 'REMOVE_ITEM';\nexport const CLEAR_ITEMS = 'CLEAR_ITEMS';\n\nimport moment from 'moment';\n\nfunction add(data) {\n  return {\n    type: SET_ITEM,\n    payload: data,\n    date: moment().add(180, 'm').format(),\n  }\n}\n\nfunction update(data, index) {\n  return {\n    type: UPDATE_ITEM,\n    payload: data,\n    index,\n    date: moment().add(180, 'm').format(),\n  }\n}\n\nfunction remove(index) {\n  return {\n    type: REMOVE_ITEM,\n    index,\n  }\n}\n\nfunction clearItems() {\n  return {\n    type: CLEAR_ITEMS,\n  }\n}\n\nexport const addToCart = (dish, quantity) => {\n  return (dispatch, getState) => {\n    const { data } = getState().cart;\n    let isExist = false;\n    let index;\n\n    data.map((item, i) => {\n      if(item.id === dish.id) {\n        isExist = true;\n        index = i;\n      }\n    });\n\n    const { id, name, price } = dish;\n    const item = { id, name, price, quantity, total: (Number(price) * quantity), availableOn: '04-10-2018' };\n\n    if(isExist) {\n      if(quantity === 0) {\n        dispatch(remove(index));\n      } else {\n        dispatch(update(item, index));\n      }\n      \n    } else {\n      dispatch(add(item));\n    }\n  }\n}\n\nexport const clearCart = () => {\n  return (dispatch, getState) => {\n    dispatch(clearItems());\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./actions/cart.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction TextFieldGroup({ name, value, label, error, type, onChange, focus, disabled = false }) {\n  return (\n    <div className=\"controls controls-small\">\n      <input\n        value={value}\n        onChange={onChange}\n        type={type}\n        name={name}\n        placeholder={label}\n        disabled={disabled}\n        className=\"input control-input\"\n        autoFocus={focus}\n      />\n    { error && <span className=\"lbl lbl-danger\">{error}</span> }\n\n      <style jsx>{`\n        .input {\n            -moz-border-radius: 2px;\n            -webkit-border-radius: 2px;\n            background-color: #fff;\n            border-radius: 2px;\n            border: 1px solid #c4c4c4;\n            color: #565a5c;\n            padding: 12px 10px;\n            width: 100%;\n            font-size: 14px;\n        }\n\n        .control-input{\n          border: 1px solid #ccc;\n        }\n\n        .input-root{\n          margin-bottom: 18px;\n          vertical-align: top;\n        }\n\n        .input-label{\n          color: #2e343b;\n          float: left;\n          font-weight: bold;\n          margin-bottom: 7px;\n        }\n\n        .lbl {\n          padding-left: 3px;\n          margin-top: 3px;\n          color: #B31E0B;\n        }\n\n        .input-margin-left{\n          margin-left: 12px;\n        }\n\n        .input-form{\n          background-color: #fff;\n          border: 1px solid #ccc;\n          border-radius: 3px;\n          box-sizing: border-box;\n          color: #2e343b;\n          display: block;\n          outline: none;\n          padding: 10px 12px 11px;\n          -webkit-transition: .2s;\n          transition: .2s;\n          width: 100%;\n          height: 42px;\n          -webkit-appearance: none;\n          -moz-appearance: none;\n          appearance: none;\n        }\n\n        .controls {\n          padding: 10px 0px;\n          position: relative;\n          width: 100%;\n        }\n\n        .controls-small {\n          padding: 5px 0;\n        }\n      `}</style>\n    </div>\n  );\n}\n\nTextFieldGroup.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  error: PropTypes.string,\n  focus: PropTypes.bool,\n  type: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n\nTextFieldGroup.defaultProps = {\n  type: 'text',\n  focus: false,\n};\n\nexport default TextFieldGroup;\n\n\n\n// WEBPACK FOOTER //\n// ./components/general/InputText.js","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport securePage from '../hocs/page';\nimport api from '../api';\nimport { addToCart } from '../actions/cart';\n// import { connect } from 'react-'\n\nimport Layout from '../components/common/Layout';\nimport InputText from '../components/general/InputText';\nimport ButtonBlock from '../components/general/ButtonBlock';\nimport MenuCalendar from '../components/menu/MenuCalendar';\nimport MenuItem from '../components/menu/MenuItem';\nimport Cart from '../components/general/Cart';\n\nclass Menu extends React.Component {\n  static async getInitialProps({ query }) { \n    const dishes = await api.dish.getAll();\n    return {\n      dishes,\n      id: 2,\n    };\n  }\n\n  addCart = (dish, quantity) => {\n    this.props.addToCart(dish, quantity);\n  }\n\n  render() {\n    const dishes = this.props.dishes;\n    return (\n      <Layout {...this.props}>\n        <div>\n          <MenuCalendar />\n          <div className=\"fluid-container\">\n            <div className=\"menu\">\n              <div className=\"row\">\n                { dishes.map((item) => {\n                  return (\n                    <MenuItem {...item} addCart={this.addCart} key={item.id} />\n                  )\n                }) }\n              </div>\n            </div>\n            <Cart />\n          </div>\n        </div>\n\n        <style jsx>{`\n          .menu {\n            margin: 20px 0px;\n            width: calc(100% - 300px) !important;\n          }\n\n          .fluid-container {\n            padding-left: 1.8rem;\n            padding-right: 1.8rem;\n          }\n\n        `}</style>\n      </Layout>\n    )\n  }\n}\n\n// const mapStateToProps = (state) => {\n//   return {\n//     cart: state.cart,\n//   }\n// }\n\nexport default securePage(connect(null, { addToCart })(Menu));\n\n\n// WEBPACK FOOTER //\n// ./pages/menu.js","import {Â SET_ITEM, UPDATE_ITEM, REMOVE_ITEM, CLEAR_ITEMS } from '../actions/cart';\n\n\n// const INITIAL_STATE = [{\n//     id: 0,\n//     name: '',\n//     quantity: 0,\n//     price: 0,\n//     total: 0,\n//     availableOn: '',\n// }];\n\nconst INITIAL_STATE = {\n  data: [],\n};\n\nexport default (state = INITIAL_STATE, action) => {\n  switch(action.type) {\n    case SET_ITEM: \n      return {\n        data: [...state.data, action.payload],\n        persistExpiresAt: action.date,\n      }\n    case UPDATE_ITEM:\n      return {\n        data: [\n          ...state.data.slice(0, action.index),\n          Object.assign({}, state.data[action.index], action.payload), ...state.data.slice(action.index + 1)\n        ],\n        persistExpiresAt: action.date,\n      }\n    case REMOVE_ITEM:\n      return {\n        data: [\n          ...state.data.slice(0, action.index),\n          ...state.data.slice(action.index + 1)\n        ]\n      }\n    case CLEAR_ITEMS:\n      return {\n        data: [],\n      }\n    default:\n      return state;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./reducer/cart.js"],"sourceRoot":""}